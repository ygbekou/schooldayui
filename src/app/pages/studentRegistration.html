<div class="page-wrapper">
  <header class="page-heading clearfix">
    <h1 i18n="@@onlineRegistrationLink" class="heading-title pull-left">Inscription
      en ligne</h1>
    <div class="breadcrumbs pull-right">
      <ul class="breadcrumbs-list">
        <li i18n="@@youAreHere" class="breadcrumbs-label">Vous etes
          ici:</li>
        <li><a i18n="@@homeLink" href="index.html">Home</a><i class="fa fa-angle-right"></i></li>
        <li class="current"><a i18n="@@onlineRegistrationLink" href="#">Inscription
            en ligne</a><i class="fa fa-angle-right"></i></li>
      </ul>
    </div>
    <!--//breadcrumbs-->
  </header>
  <div class="page-content">


    <form (ngSubmit)="saveUser()" #profileForm="ngForm">
      <p-steps [model]="items" [(activeIndex)]="activeIndex" styleClass="steps-custom"></p-steps>

      <!-- STEP 1 -->
      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@lastName" for="lastName">Nom:</label> <input type="text" pInputText class="form-control"
          id="lastName" required [disabled]="activeIndex===3" [(ngModel)]="user.lastName" name="lastName"
          #lastName="ngModel">
        <div [hidden]="lastName.valid || lastName.pristine" class="alert alert-danger" i18n="@@lastNameRequired">Nom
          Requis</div>
      </div>
      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@firstName" for="firstName">Prenom:</label> <input type="text" pInputText class="form-control"
          id="firstName" required [disabled]="activeIndex===3" [(ngModel)]="user.firstName" name="firstName"
          #firstName="ngModel">
        <div [hidden]="firstName.valid || firstName.pristine" class="alert alert-danger" i18n="@@firstNameRequired">
          Prenom
          Requis</div>
      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@email" for="email">E-mail</label> <input type="email" pInputText class="form-control" id="email"
          required [(ngModel)]="user.email" [disabled]="activeIndex===3" name="email" #email="ngModel">
        <div [hidden]="email.valid || email.pristine" class="alert alert-danger" i18n="@@emailRequired">Email
          Requis</div>
      </div>
      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@email" for="emailPersonnel">E-mail personnel</label> 
        <input type="email" pInputText class="form-control" id="emailPersonnel"
           [(ngModel)]="user.emailPersonnel" [disabled]="activeIndex===3" name="emailPersonnel" #emailPersonnel="ngModel">
      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@password" for="password">Mot de Passe</label> <input type="password" pPassword
          class="form-control" id="password" required [disabled]="activeIndex===3" [(ngModel)]="user.password"
          name="password" #password="ngModel">
        <div [hidden]="password.valid || password.pristine" class="alert alert-danger" i18n="@@passwordRequired">Le mot
          de passe est requis</div>
      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@birthDate" for="birthDate">Date de Naissance<font color="red">*</font></label>
        <p-calendar monthNavigator="true" yearRange="1940:2050" yearNavigator="true" id="birthDate" [(ngModel)]="user.birthDate" [disabled]="activeIndex===3" [showIcon]="true"
          name="birthDate" #birthDate="ngModel"></p-calendar>

        <div [hidden]="birthDate.valid || birthDate.pristine" class="alert alert-danger" i18n="@@birthDateRequired">Date
          de
          naissance est requise</div>
      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@cityOfBirth" for="cityOfBirth">Lieu de
          Naissance</label> <input type="text" pInputText class="form-control"
          id="cityOfBirth" [(ngModel)]="user.cityOfBirth" name="cityOfBirth"
          #birthPlace="ngModel" [disabled]="activeIndex===3">
      </div>


      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@originCountry" for="countryOrigin">Pays
          d'origine<font color="red">*</font></label>
        <p-autoComplete [(ngModel)]="user.countryOrigin" (onDropdownClick)="handleDropdownClick($event)"
          [suggestions]="filteredCountries" [dropdown]="true" id="countryOrigin" [disabled]="activeIndex===3"
          (completeMethod)="filterCountry($event)" name="countryOrigin" field="name" [size]="30"
          placeholder="{{COUNTRY_ORIGIN}}" [minLength]="1"></p-autoComplete>
      </div>


      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@nationality" for="nationality">{{NATIONALITY}}<font color="red">*</font></label>
        <p-autoComplete [(ngModel)]="user.nationality" (onDropdownClick)="handleDropdownClick($event)"
          [suggestions]="filteredCountries" [dropdown]="true" id="nationality" [disabled]="activeIndex===3"
          (completeMethod)="filterCountry($event)" name="nationality" field="nationality" [size]="30"
          placeholder="{{NATIONALITY}}" [minLength]="1"></p-autoComplete>
      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label for="sex" i18n="@@Iam">Je suis:<font color="red">*</font></label>

        <div class="ui-g-12">
          <p-radioButton name="sex" value="F" label="Femme" [disabled]="activeIndex===3" [(ngModel)]="user.sex">
          </p-radioButton>
          <p-radioButton name="sex" value="M" label="Homme" [disabled]="activeIndex===3" [(ngModel)]="user.sex">
          </p-radioButton>
        </div>

      </div>

      <div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label for="sex" i18n="@@Iam">Role:<font color="red">*</font></label>
        <div class="ui-g-12">
          <p-selectButton [options]="roles" [(ngModel)]="user.role" name="aRole" #aRole1="ngModel" [disabled]="activeIndex===3">
          </p-selectButton>
        </div>

      </div>


      <!-- STEP 2 -->

      <div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
        <label i18n="@@address" for="address">Adresse</label> <input type="text" pInputText class="form-control"
          id="address" required [disabled]="activeIndex===3" [(ngModel)]="user.address" name="address"
          #address="ngModel">
          <!--
        <div [hidden]="address.valid || address.pristine" class="alert alert-danger" i18n="@@addressRequired">Address
          Requis</div>
          -->
      </div>
      <div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
        <label i18n="@@zipCode" for="zipCode">Code Postal</label> <input type="text" pInputText class="form-control"
          id="zipCode" [disabled]="activeIndex===3" [(ngModel)]="user.zipCode" name="zipCode" #zipCode="ngModel">
      </div>
      <div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
        <label i18n="@@cityResidence" for="cityResidence">Ville de
          residence</label> <input type="text" pInputText class="form-control" id="cityResidence"
          [disabled]="activeIndex===3" required [(ngModel)]="user.cityResidence" name="cityResidence"
          #cityResidence="ngModel">
          <!--
        <div [hidden]="cityResidence.valid || cityResidence.pristine" class="alert alert-danger"
          i18n="@@cityResidenceRequired">Ville
          de residence Requise</div>
          -->
      </div>

      <div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
        <label i18n="@@countryResidence" for="countryResidence">Pays
          de residence</label>
        <p-autoComplete [(ngModel)]="user.countryResidence" (onDropdownClick)="handleDropdownClick($event)"
          [suggestions]="filteredCountries" [dropdown]="true" id="countryResidence" [disabled]="activeIndex===3"
          required (completeMethod)="filterCountry($event)" name="countryResidence" field="name" [size]="30"
          placeholder="{{COUNTRY_RESIDENCE}}" [minLength]="1"></p-autoComplete>
      </div>

      <div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
        <label i18n="@@phone" for="phone">Telephone</label> <input type="text" pInputText [disabled]="activeIndex===3"
          class="form-control" id="phone" required [(ngModel)]="user.phone" name="phone" #phone="ngModel">
        <!--
          <div [hidden]="phone.valid || phone.pristine" class="alert alert-danger" id="@@phoneRequired">Telephone
          Requis</div>
          -->
      </div>


      <!-- STEP 3 -->

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="currentDiploma" i18n="@@lastDiploma">Quel est
          votre dernier Diplome?</label>
          <input type="text" pInputText [disabled]="activeIndex===3" class="form-control"
          id="currentDiploma" required [(ngModel)]="user.currentDiploma" name="currentDiploma"
          #currentDiploma="ngModel">
      </div>

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="eventL" i18n="@@event">Raison</label> <input type="text" pInputText disabled
          class="form-control" id="eventL" required [(ngModel)]="event" name="eventL" #eventL="ngModel" readonly>
      </div>

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="phone" i18n="@levelChoice" style="margin-right: 41px;">Quelle filiere/classe
          souhaitez-vous vous inscrire?</label>
        <p-autoComplete [(ngModel)]="user.level" (onDropdownClick)="levelDropdown.handleDropdownClick($event)"
          [suggestions]="levelDropdown.filteredLevels" [dropdown]="true" id="level" required [disabled]="activeIndex===3"
          (completeMethod)="levelDropdown.filter($event)" name="level" field="name" [size]="30" placeholder="{{LEVEL}}"
          [minLength]="1" #level="ngModel"></p-autoComplete>
      </div>

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="phone" i18n="@@schoolYearChoice" style="margin-right: 30px;">Pour Quelle
          Annee scolaire allez-vous vous inscrire?</label>
        <p-autoComplete [(ngModel)]="user.schoolYear" (onDropdownClick)="handleSchoolYearDropdownClick($event)"
          [suggestions]="filteredSchoolYears" [dropdown]="true" id="schoolYear" #schoolYear="ngModel" required
          (completeMethod)="filterSchoolYear($event)" name="schoolYear" field="year" [disabled]="activeIndex===3"
          [size]="30" placeholder="{{SCHOOLYEAR}}" [minLength]="1"></p-autoComplete>

      </div>

			<div class="form-group" *ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">

				<div class="ui-g-2" style="margin-left : -6px;">
					<label i18n="@@Iam" for="typeFormation">Type de formation :</label>
				</div>
				<div class="ui-g-10">
					<p-radioButton name="typeFormation" value="En présentiel" label="En présentiel"
						[disabled]="activeIndex===3" [(ngModel)]="user.typeFormation"></p-radioButton>
					<p-radioButton name="typeFormation" value="A distance" label="A distance"
						[disabled]="activeIndex===3" [(ngModel)]="user.typeFormation"></p-radioButton>
				</div>

			</div>

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="comments" i18n="@@otherInformation">Autres
          Informations</label> <br />
				<div class="ui-g-12" style="margin-left : -6px;">
          <textarea pInputTextarea [(ngModel)]="user.comments" name="comments" [disabled]="activeIndex===3"
           class="form-control" rows="5"></textarea>
        </div>
      </div>

      <div class="form-group" *ngIf="(activeIndex===2||activeIndex===3) && user.role===3 ">
        <label for="sendMail" i18n="@@sendMail">Envoyer un e-mail a
          l'eleve</label>
        <p-checkbox [(ngModel)]="user.sendMail" binary="true" name="sendMail" id="sendEmail"></p-checkbox>
      </div>

      <button pButton type="text" (click)="button=1" icon="fa fa fa-play-circle"
        style="margin-top: 0px; width: 40%; height: 50px;" label="{{navigationLabel}}"></button>
      <button (click)="button=2" pButton type="submit" icon="fa fa fa-play-circle"
        style="margin-top: 0px; width: 40%; height: 50px;" *ngIf="activeIndex===3" label="Enregistrer"></button>

      <br>
      <div *ngIf="msg" class="alert alert-success">{{msg}}</div>
      <div *ngIf="error" class="alert alert-danger">{{error}}</div>

    </form>

    <br />

    <!--//page-row-->
  </div>
  <!--//page-content-->
</div>
