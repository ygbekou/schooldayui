<p-growl [(value)]="msgs"></p-growl>
<div class="page-wrapper">
	<header class="page-heading clearfix">
		<h1 class="heading-title pull-left">Login</h1>
		<div class="breadcrumbs pull-right">
			<ul class="breadcrumbs-list">
				<li i18n="@@youAreHere" class="breadcrumbs-label">Vous etes
					ici:</li>
				<li><a i18n="@@homeLink" href="index.html">Home</a><i
					class="fa fa-angle-right"></i></li>
				<li class="current"><a href="#">Login</a><i
					class="fa fa-angle-right"></i></li>
			</ul>
		</div>
		<!--//breadcrumbs-->
	</header>
	<div class="page-content">

		<p-tabView> <p-tabPanel header="{{I_AM_MEMBER}}"
			leftIcon="fa fa-id-badge">
		<form (ngSubmit)="login()" #loginForm="ngForm">
			<div class="form-group">
				<label i18n="@@userNameOrEmail" for="email">Nom
					d'utilisateur ou E-mail</label> <input type="text" pInputText
					class="form-control" id="email" required [(ngModel)]="user.email"
					name="email" #email="ngModel">
				<div [hidden]="email.valid || email.pristine"
					class="alert alert-danger" i18n="@@userNameOrEmailRequired">Nom
					d'utilisateur ou E-mail Requis</div>
			</div>

			<div class="form-group">
				<label i18n="@@password" for="password2">Mot de passe</label> <input
					type="password" pInputText class="form-control" id="password2" required
					[(ngModel)]="user.password" name="password2" #password2="ngModel">
			</div>

			<div *ngIf="error" class="alert alert-danger">{{error}}</div>

			<button [disabled]="!loginForm.form.valid" pButton type="submit"
				label="Connection"></button>

			<button pButton (click)="button='password'"
				label="{{SEND_ME_MY_PASSWORD}}"></button>

			<div *ngIf="passwordSent" class="alert alert-success">{{passwordSent}}</div>

		</form>

		</p-tabPanel> 
		<p-tabPanel header="{{I_AM_SUBSCRIBE}}"
			leftIcon="fa fa-pencil-square-o">

		<form (ngSubmit)="saveUser()" #profileForm="ngForm">
			<br />
			<p-steps [model]="items" [(activeIndex)]="activeIndex"
				styleClass="steps-custom"></p-steps>
			<br />
			<!-- STEP 1 -->
			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@lastName" for="lastName">Nom:</label> <input
					type="text" pInputText class="form-control" id="lastName" required
					[disabled]="activeIndex===3" [(ngModel)]="user.lastName"
					name="lastName" #lastName="ngModel">
				<div [hidden]="lastName.valid || lastName.pristine"
					class="alert alert-danger" i18n="@@lastNameRequired">Nom
					Requis</div>
			</div>
			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@firstName" for="firstName">Prenom:</label> <input
					type="text" pInputText class="form-control" id="firstName" required
					[disabled]="activeIndex===3" [(ngModel)]="user.firstName"
					name="firstName" #firstName="ngModel">
				<div [hidden]="firstName.valid || firstName.pristine"
					class="alert alert-danger" i18n="@@firstNameRequired">Prenom
					Requis</div>
			</div>
			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@email" for="email1">E-mail</label> <input
					type="email" pInputText class="form-control" id="email1" required
					[(ngModel)]="user.email" [disabled]="activeIndex===3" name="email1"
					#email1="ngModel">
				<div [hidden]="email1.valid || email1.pristine"
					class="alert alert-danger" i18n="@@emailRequired">Email
					Requis</div>
			</div>

			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@password" for="password">Mot de Passe</label> <input
					type="password" pPassword class="form-control" id="password"
					required [disabled]="activeIndex===3" [(ngModel)]="user.password"
					name="password" #password="ngModel">
				<div [hidden]="password.valid || password.pristine"
					class="alert alert-danger" i18n="@@passwordRequired">Le mot
					de passe est requis</div>
			</div>

			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@birthDate" for="birthDate">Date de Naissance</label>
				<p-calendar monthNavigator="true" yearRange="1940:2050" yearNavigator="true" id="birthDate" [(ngModel)]="user.birthDate"
					[disabled]="activeIndex===3" [showIcon]="true" name="birthDate"
					#birthDate="ngModel"></p-calendar>

				<div [hidden]="birthDate.valid || birthDate.pristine"
					class="alert alert-danger" i18n="@@birthDateRequired">Date de
					naissance est requise</div>
			</div>


			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
        <label i18n="@@cityOfBirth" for="cityOfBirth">Lieu de
          Naissance</label> <input type="text" pInputText class="form-control"
          id="cityOfBirth" [(ngModel)]="user.cityOfBirth" name="cityOfBirth"
          #birthPlace="ngModel" [disabled]="activeIndex===3">
      </div>


			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@originCountry" for="countryOrigin">Pays
					d'origine</label>
				<p-autoComplete [(ngModel)]="user.countryOrigin"
					(onDropdownClick)="handleDropdownClick($event)"
					[suggestions]="filteredCountries" [dropdown]="true"
					id="countryOrigin" [disabled]="activeIndex===3"
					(completeMethod)="filterCountry($event)" name="countryOrigin"
					field="name" [size]="30" placeholder="{{COUNTRY_ORIGIN}}"
					[minLength]="1"></p-autoComplete>
			</div>

			<div class="form-group" *ngIf="activeIndex===0||activeIndex===3">
				<label i18n="@@Iam" for="sex">Je suis:</label>

				<div class="ui-g-12">
					<p-radioButton name="sex" value="F" label="{{FEMALE}}"
						[disabled]="activeIndex===3" [(ngModel)]="user.sex"></p-radioButton>
					<p-radioButton name="sex" value="M" label="{{MALE}}"
						[disabled]="activeIndex===3" [(ngModel)]="user.sex"></p-radioButton>
				</div>
				<div class="ui-g-12">
					<p-radioButton name="role" value="3" label="{{STUDENT}}"
						[disabled]="activeIndex===3 " [(ngModel)]="user.role"></p-radioButton>

					<p-radioButton name="role" value="4" label="{{PARENT}}"
						[disabled]="activeIndex===3 " [(ngModel)]="user.role"></p-radioButton>

					<p-radioButton name="role" value="2" label="{{TEACHER}}"
						[disabled]="activeIndex===3" [(ngModel)]="user.role"></p-radioButton>

					<!--
					<p-radioButton name="role" value="6" label="{{DEP}}"
						[disabled]="activeIndex===3" [(ngModel)]="user.role"></p-radioButton>

					<p-radioButton name="role" value="7" label="{{DCMC}}"
						[disabled]="activeIndex===3" [(ngModel)]="user.role"></p-radioButton>
					-->
				</div>

			</div>

			<!-- STEP 2 -->

			<div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
				<label i18n="@@address" for="address">Adresse</label> <input
					type="text" pInputText class="form-control" id="address" required
					[disabled]="activeIndex===3" [(ngModel)]="user.address"
					name="address" #address="ngModel">
				<div [hidden]="address.valid || address.pristine||activeIndex===3"
					class="alert alert-danger" i18n="@@addressRequired">Address
					Requis</div>
			</div>
			<div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
				<label i18n="@@zipCode" for="zipCode">Code Postal</label> <input
					type="text" pInputText class="form-control" id="zipCode"
					[disabled]="activeIndex===3" [(ngModel)]="user.zipCode"
					name="zipCode" #zipCode="ngModel">
			</div>
			<div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
				<label i18n="@@cityResidence" for="cityResidence">Ville de
					residence</label> <input type="text" pInputText class="form-control"
					id="cityResidence" [disabled]="activeIndex===3" required
					[(ngModel)]="user.cityResidence" name="cityResidence"
					#cityResidence="ngModel">
				<div
					[hidden]="cityResidence.valid || cityResidence.pristine||activeIndex===3"
					class="alert alert-danger" i18n="@@cityResidenceRequired">Ville
					de residence Requise</div>
			</div>

			<div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
				<label i18n="@@countryResidence" for="countryResidence">Pays
					de residence</label>
				<p-autoComplete [(ngModel)]="user.countryResidence"
					(onDropdownClick)="handleDropdownClick($event)"
					[suggestions]="filteredCountries" [dropdown]="true"
					id="countryResidence" [disabled]="activeIndex===3" required
					(completeMethod)="filterCountry($event)" name="countryResidence"
					field="name" [size]="30" placeholder="{{COUNTRY_RESIDENCE}}"
					[minLength]="1"></p-autoComplete>
			</div>

			<div class="form-group" *ngIf="activeIndex===1||activeIndex===3">
				<label i18n="@@phone" for="phone">Telephone</label> <input
					type="text" pInputText [disabled]="activeIndex===3"
					class="form-control" id="phone" required [(ngModel)]="user.phone"
					name="phone" #phone="ngModel">
				<div [hidden]="phone.valid || phone.pristine||activeIndex===3"
					class="alert alert-danger" i18n="@@phoneRequired">Telephone
					Requis</div>
			</div>

			<!-- STEP 3 -->

			<div class="form-group"
				*ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">
				<label i18n="@@lastDiploma" for="currentDiploma">Quel est
					votre dernier Diplome?</label> <input type="text" pInputText
					[disabled]="activeIndex===3" class="form-control"
					id="currentDiploma" required [(ngModel)]="user.currentDiploma"
					name="currentDiploma" #currentDiploma="ngModel">
			</div>

			<div class="form-group"
				*ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">
				<label i18n="@@levelChoice" for="phone" style="margin-right: 41px;">Quelle
					filiere/classe souhaitez-vous vous inscrire ?</label>


				<p-autoComplete [(ngModel)]="user.level"
					(onDropdownClick)="levelDropdown.handleDropdownClick($event)"
					[suggestions]="levelDropdown.filteredLevels" [dropdown]="true"
					id="level" (completeMethod)="levelDropdown.filter($event)"
					name="level" field="name" required [size]="50"
					placeholder="{{LEVEL}}" [minLength]="1" #level="ngModel"></p-autoComplete>
			</div>

			<div class="form-group"
				*ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">
				<label i18n="@@schoolYearChoice" for="phone" style="margin-right: 30px;">Pour Quelle
					Annee scolaire allez-vous vous inscrire ?</label>
				<p-autoComplete [(ngModel)]="user.schoolYear"
					(onDropdownClick)="handleSchoolYearDropdownClick($event)"
					[suggestions]="filteredSchoolYears" [dropdown]="true"
					id="schoolYear" #schoolYear="ngModel" required
					(completeMethod)="filterSchoolYear($event)" name="schoolYear"
					field="year" [disabled]="activeIndex===3" [size]="50"
					placeholder="{{SCHOOL_YEAR}}" [minLength]="1"></p-autoComplete>

			</div>

			<div class="form-group" *ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">

				<div class="ui-g-2" style="margin-left : -6px;">
					<label i18n="@@Iam" for="typeFormation">Type de formation :</label>
				</div>
				<div class="ui-g-10">
					<p-radioButton name="typeFormation" value="En présentiel" label="En présentiel"
						[disabled]="activeIndex===3" [(ngModel)]="user.typeFormation"></p-radioButton>
					<p-radioButton name="typeFormation" value="A distance" label="A distance"
						[disabled]="activeIndex===3" [(ngModel)]="user.typeFormation"></p-radioButton>
				</div>

			</div>

			<div class="form-group"
				*ngIf="user.role==3 && (activeIndex===2||activeIndex===3)">
				<label i18n="@@otherInformation" for="comments">Autres
					Informations</label> <br />
				<div class="ui-g-12" style="margin-left : -6px;">
					<textarea pInputTextarea [(ngModel)]="user.comments" name="comments"
						[disabled]="activeIndex===3" class="form-control" rows="5"></textarea>
				</div>
			</div>

			<button style="margin-top: 0px; width: 40%; height: 50px;" pButton
				type="text" (click)="buttonNbr=1" icon="fa fa fa-play-circle"
				label="{{navigationLabel}}"></button>

			<button (click)="buttonNbr=2" pButton type="submit"
				icon="fa fa fa-play-circle"
				style="margin-top: 0px; width: 40%; height: 50px;"
				*ngIf="activeIndex===3" label="{{SAVE_LABEL}}"></button>

			<br>
			<div *ngIf="error" class="alert alert-danger">{{error}}</div>

		</form>
		</p-tabPanel>

		<!--Fromulaire pour inscription formation des senseignants -->
		<!-- <p-tabPanel header="Inscritpion formation des enseignants"
			leftIcon="fa fa-pencil-square-o">

		<form (ngSubmit)="saveUserOnline()" #profileForm="ngForm">
			<br />

			<div class="form-group">
				<label i18n="@@lastName" for="lastName">Nom:</label> <input
					type="text" pInputText class="form-control" id="lastName" required
					[disabled]="activeIndex===3" [(ngModel)]="user.lastName"
					name="lastName" #lastName="ngModel">
				<div [hidden]="lastName.valid || lastName.pristine"
					class="alert alert-danger" i18n="@@lastNameRequired">Nom
					Requis</div>
			</div>
			<div class="form-group" >
				<label i18n="@@firstName" for="firstName">Prenom:</label> <input
					type="text" pInputText class="form-control" id="firstName" required
					[disabled]="activeIndex===3" [(ngModel)]="user.firstName"
					name="firstName" #firstName="ngModel">
				<div [hidden]="firstName.valid || firstName.pristine"
					class="alert alert-danger" i18n="@@firstNameRequired">Prenom
					Requis</div>
			</div>
			<div class="form-group" >
				<label i18n="@@email" for="email1">E-mail</label> <input
					type="email" pInputText class="form-control" id="email1" required
					[(ngModel)]="user.email"  name="email1"
					#email1="ngModel">
				<div [hidden]="email1.valid || email1.pristine"
					class="alert alert-danger" i18n="@@emailRequired">Email
					Requis</div>
			</div>

				<div class="form-group">
				<label i18n="@@phone" for="phone">Telephone</label> <input
					type="text" pInputText [disabled]="activeIndex===3"
					class="form-control" id="phone" required [(ngModel)]="user.phone"
					name="phone" #phone="ngModel">
				<div [hidden]="phone.valid || phone.pristine||activeIndex===3"
					class="alert alert-danger" i18n="@@phoneRequired">Telephone
					Requis</div>
			</div>
			<div class="form-group">
				<label i18n="@@Iam" for="sex">Je suis:</label>

				<div class="ui-g-12">
					<p-radioButton name="sex" value="F" label="{{FEMALE}}"
						 [(ngModel)]="user.sex"></p-radioButton>
					<p-radioButton name="sex" value="M" label="{{MALE}}"
						 [(ngModel)]="user.sex"></p-radioButton>
				</div>
			</div>
			<button pButton (click)="cancel()"
				label="Annuler"></button>
            <button pButton
				label="Enregistrer"></button>

			<div *ngIf="error" class="alert alert-danger">{{error}}</div>

		</form>
		</p-tabPanel> -->

		<!-- <p-tabPanel id="jpope" header="Inscritpion Journée Porte Ouverte"
			leftIcon="fa fa-pencil-square-o">

		<form (ngSubmit)="saveUserJpope()" #profileForm="ngForm">
			<br />

			<div class="form-group">
				<label i18n="@@lastName" for="lastName">Nom:</label> <input
					type="text" pInputText class="form-control" id="lastName" required
					 [(ngModel)]="userJpope.lastName"
					name="lastName" #lastName="ngModel">
				<div [hidden]="lastName.valid || lastName.pristine"
					class="alert alert-danger" i18n="@@lastNameRequired">Nom
					Requis</div>

			</div>
			<div class="form-group" >
				<label i18n="@@firstName" for="firstName">Prenom:</label> <input
					type="text" pInputText class="form-control" id="firstName" required
					[(ngModel)]="userJpope.firstName"
					name="firstName" #firstName="ngModel">
				<div [hidden]="firstName.valid || firstName.pristine"
					class="alert alert-danger" i18n="@@firstNameRequired">Prenom
					Requis</div>
			</div>
			<div class="form-group" >
				<label i18n="@@email" for="email1">E-mail</label> <input
					type="email" pInputText class="form-control" id="email1" required
					[(ngModel)]="userJpope.email"  name="email1"
					#email1="ngModel">
				<div [hidden]="email1.valid || email1.pristine"
					class="alert alert-danger" i18n="@@emailRequired">Email
					Requis</div>
			</div>

				<div class="form-group">
				<label i18n="@@phone" for="phone">Téléphone</label> <input
					type="text" pInputText
					class="form-control" id="phone" required [(ngModel)]="userJpope.phone"
					name="phone" #phone="ngModel">
				<div [hidden]="phone.valid || phone.pristine"
					class="alert alert-danger" i18n="@@phoneRequired">Téléphone
					Requis</div>
			</div>
			<div class="form-group">
				<label i18n="@@adresse" for="adresse">Adresse</label> <input
					type="text" pInputText
					class="form-control" id="adresse" required [(ngModel)]="userJpope.address"
					name="adresse" #adresse="ngModel">
					<div [hidden]="adresse.valid || adresse.pristine"
					class="alert alert-danger" i18n="@@adresseRequired">adresse
					Requis</div>
			</div>
			<div class="form-group">
				<label i18n="@@company" for="company">Société</label> <input
					type="text" pInputText
					class="form-control" id="sciete" required [(ngModel)]="userJpope.company"
					name="sciete" #sciete="ngModel">
					<div [hidden]="sciete.valid || sciete.pristine"
					class="alert alert-danger" i18n="@@scieteRequired">sciete
					Requis</div>
			</div>
			<div class="form-group">
				<label i18n="@@companyContact" for="companyContact">Contact Société</label> <input
					type="text" pInputText
					class="form-control" id="companyContact" [(ngModel)]="userJpope.companyContact"
					name="companyContact" #companyContact="ngModel">
			</div>

			<div class="form-group">
				<label i18n="@@post" for="post">Votre Poste</label> <input
					type="text" pInputText
					class="form-control" id="post" [(ngModel)]="userJpope.post"
					name="post" #post="ngModel">
			</div>

			<div class="form-group">
				<p-multiSelect [options]="studentProject" [(ngModel)]="selectedProjects" [defaultLabel]="'Vous �tes interess� par quel projet �tudiant'" 
				name="projet" itemSize="160"  optionLabel="name" ></p-multiSelect>
			</div>

			<div class="form-group">
				<label i18n="@@Iam" for="sex">Je suis:</label>

				<div class="ui-g-12">
					<p-radioButton name="sex" value="F" label="{{FEMALE}}"
						 [(ngModel)]="userJpope.sex"></p-radioButton>
					<p-radioButton name="sex" value="M" label="{{MALE}}"
						 [(ngModel)]="userJpope.sex"></p-radioButton>
				</div>
			</div>
			<button pButton (click)="cancelJpope()"
				label="Annuler"></button>
            <button pButton
				label="Enregistrer"></button>

			<div *ngIf="error" class="alert alert-danger">{{error}}</div>

		</form>
		</p-tabPanel> -->
		</p-tabView>

		<br />

		<!--//page-row-->
	</div>
	<!--//page-content-->
</div>
