<p-dialog header="Année fiscale - Paramètres de paie" [(visible)]="displayDialog" [responsive]="true" showEffect="fade"
	[modal]="true" width="700">
	<div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="fiscalYearPayParameter">
		<div>

			<div class="ui-grid-row form-group">
				<div class="ui-grid-col-2">
					<label i18n="@@type" for="type">Année fiscale : </label>
				</div>
				<div class="ui-grid-col-9">
					<p-autoComplete [(ngModel)]="fiscalYearPayParameter.fiscalYear"
						(onDropdownClick)="fiscalYearDropdown.handleDropdownClick($event)"
						[suggestions]="fiscalYearDropdown.filteredFiscalYears" [dropdown]="true" id="fiscalYear"
						(completeMethod)="fiscalYearDropdown.filter($event)" name="fiscalYear" field="key"
						placeholder="Choisissez l'année fiscale" [minLength]="1"></p-autoComplete>
				</div>
				<div class="ui-grid-col-1"></div>
			</div>

			<div class="ui-grid-row form-group">
				<div class="ui-grid-col-2">
					<label i18n="@@type" for="type">Type : </label>
				</div>
				<div class="ui-grid-col-9">
					<p-autoComplete [(ngModel)]="fiscalYearPayParameter.payParameter"
						(onDropdownClick)="payParameterDropdown.handleDropdownClick($event)"
						[suggestions]="payParameterDropdown.filteredPayParameters" [dropdown]="true" id="payParameter"
						(completeMethod)="payParameterDropdown.filter($event)" name="payParameter" field="wording"
						placeholder="Choisissez le paramètre de paie" [minLength]="1"
						(onSelect)="payParameterDropdown.onFiscalYearPayParameter($event)">
					</p-autoComplete>
				</div>
				<div class="ui-grid-col-1"></div>
			</div>
			

			<div class="ui-grid-row form-group">
				<div class="ui-grid-col-2">
					<label i18n="@@value" for="value">Valeur : </label>
				</div>
				<div class="ui-grid-col-9">
					<input pInputText id="value" class="form-control" [(ngModel)]="fiscalYearPayParameter.value" />
				</div>
				<div class="ui-grid-col-1"></div>
			</div>

		</div>
	</div>


	<div *ngIf="error" class="alert alert-danger">{{error}}</div>
	<footer>
		<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
			<button type="button" pButton icon="fa fa-close" (click)="delete()" label="{{DELETE_LABEL}}"></button>
			<button type="button" pButton icon="fa fa-check" (click)="save()" label="{{SAVE_LABEL}}"></button>
		</div>
	</footer>
</p-dialog>


<p-dataTable [value]="fiscalYearPayParameters" selectionMode="single" [(selection)]="selectedFiscalYearPayParameter"
	expandableRows="true" [paginator]="true" [rows]="5" (onRowSelect)="onRowSelect($event)" [responsive]="true">
	<p-column expander="true" styleClass="col-icon" [style]="{'width':'5%'}">

	</p-column>
	<p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [sortable]="col.sortable"
		[style]="col.style" [filter]="col.filter">
		<ng-template *ngIf="col.type === 'Date'" let-col let-data="rowData" pTemplate type="body">
			<span class="col-date">{{ data[ col.field ] | date:'dd/MM/yy' }}</span>
		</ng-template>
	</p-column>

	<ng-template pTemplate="paginatorLeft">
		<button type="button" (click)="showDialogToAdd()" pButton icon="fa fa-plus-circle"></button>
	</ng-template>
	<ng-template pTemplate="paginatorRight">
		<button type="button" (click)="getAll()" pButton icon="fa fa-refresh"></button>
	</ng-template>
</p-dataTable>