<file-uploader></file-uploader>

<p-dialog header="{{DETAIL}}" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true"
  width="850">
  <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="invoicePay">

     <div class="ui-grid-row">
      <div class="ui-grid-col-2">
        <label i18n="@@openDate" for="openDate">Date saisie</label>
      </div>
      <div class="ui-grid-col-10">
        <p-calendar monthNavigator="true" yearRange="1940:2050" yearNavigator="true" id="openDate" [showIcon]="false"
          [(ngModel)]="invoicePay.paymentDate"></p-calendar>
      </div>
    </div>
     <div class="ui-grid-row">
      <div class="ui-grid-col-2">
        <label i18n="@@openDate" for="openDate">Date payement client</label>
      </div>
      <div class="ui-grid-col-10">
        <p-calendar monthNavigator="true" yearRange="1940:2050" yearNavigator="true" id="openDate" [showIcon]="false"
          [(ngModel)]="invoicePay.bankPaymentDate"></p-calendar>
      </div>
    </div>
     <div class="ui-grid-row" >
      <div class="ui-grid-col-2">
        <label i18n="@@duration" for="duration">Montant</label>
      </div>
      <div class="ui-grid-col-10">
        <input pInputText id="duration" [(ngModel)]="invoicePay.amount" />
      </div>
    </div>
    <div class="ui-grid-row">
      <div class="ui-grid-col-2">
        <label i18n="@@levelLink" for="college">Banque/Chq</label>
      </div>
      <div class="ui-grid-col-9">
        <p-autoComplete [(ngModel)]="invoicePay.bank" (onDropdownClick)="bankDropdown.handleDropdownClick($event)"
          [suggestions]="bankDropdown.filteredBanks" [dropdown]="true" id="bank"
          (completeMethod)="bankDropdown.filter($event)" name="bank" field="name" [size]="30"
          placeholder="Banque" [minLength]="1" #bank="ngModel"></p-autoComplete>
        <div [hidden]="bank.valid || bank.pristine" class="alert alert-danger" i18n="@@levelRequired">Banque/Chq
          Requise</div>
      </div>
      <div class="ui-grid-col-1"></div>
    </div>
     <div class="ui-grid-row" >
      <div class="ui-grid-col-2">
        <label i18n="@@duration" for="slipNumber">Numéro Bord/Chq</label>
      </div>
      <div class="ui-grid-col-10">
        <input pInputText id="slipNumber" [(ngModel)]="invoicePay.slipNumber" />
      </div>
    </div>
     <div class="ui-grid-row" >
      <div class="ui-grid-col-2">
        <label i18n="@@comment" for="caissier">Commentaire</label>
      </div>
      <div class="ui-grid-col-10">
        <input pInputText id="comment" [(ngModel)]="invoicePay.comment" />
      </div>
    </div>

  </div>
  <div *ngIf="error" class="alert alert-danger">{{error}}</div>
  <footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
      <!-- <button type="button" pButton icon="fa fa-close" (click)="delete()" label="{{DELETE_LABEL}}"></button> -->
      <button type="button" pButton icon="fa fa-check" (click)="save()" label="{{SAVE_LABEL}}"></button>
    </div>
  </footer>
</p-dialog>

<p-dataTable [value]="invoicePays" selectionMode="single" [(selection)]="selectedInvoicepAy" expandableRows="true"
  (onRowSelect)="onRowSelect($event)" [paginator]="true" [rows]="15" [responsive]="true">
  <p-column expander="true" styleClass="col-icon" [style]="{'width':'5%'}"></p-column>
  <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [sortable]="col.sortable"
    [filter]="col.filter" [style]="col.style">

    <ng-template *ngIf="col.type === 'Date'" let-col let-data="rowData" pTemplate type="body"> <span class="col-date">{{
	data[col.field ] | date:'dd/MM/yy' }} </span> </ng-template>
    <ng-template *ngIf="col.type === 'text'" let-col let-data="rowData" pTemplate type="body">
      <div [innerHTML]="data[ col.field ]"></div>
    </ng-template>
  </p-column>
  <ng-template pTemplate="paginatorLeft">
    <button type="button" (click)="showDialogToAdd()" pButton icon="fa fa-plus-circle"></button>
  </ng-template>
  <ng-template pTemplate="paginatorRight">
    <button type="button" (click)="getAll()" pButton icon="fa fa-refresh"></button>
  </ng-template>
</p-dataTable>

<!-- Initialize Quill editor -->
<script>
  var quill = new Quill('#editor', {
    theme: 'bubble'
  });

</script>
