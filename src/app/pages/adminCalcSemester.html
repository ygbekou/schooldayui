
<div class="ui-grid-row">
	<div class="ui-grid-col-2">
		<label i18n="@@schoolYear" for="schoolYear">Annee Scolaire</label>
	</div>
	<div class="ui-grid-col-9">
		<p-autoComplete [(ngModel)]="selectedSchoolYear"
			(onDropdownClick)="schoolYearDropdown.handleDropdownClick($event)"
			[suggestions]="schoolYearDropdown.filteredSchoolYears"
			[dropdown]="true" id="schoolYear"
			(completeMethod)="schoolYearDropdown.filter($event)"
			name="schoolYear" field="year" [size]="30" required
			placeholder="{{SCHOOLYEAR}}" [minLength]="1" #schoolYear="ngModel"></p-autoComplete>
		<div [hidden]="schoolYear.valid || schoolYear.pristine"
			class="alert alert-danger" i18n="@@schoolYearRequired">Annee
			scolaire Requise</div>
	</div>
	<div class="ui-grid-col-1"></div>
</div>
<br />
<div class="ui-grid-row">
	<div class="ui-grid-col-2">
		<label i18n="@@class" for="classe">Classe</label>
	</div>
	<div class="ui-grid-col-9">
		<p-autoComplete [(ngModel)]="selectedClasse"
			(onDropdownClick)="classDropdown.handleDropdownClick($event)"
			[suggestions]="classDropdown.filteredClasses" [dropdown]="true"
			id="classe" (completeMethod)="classDropdown.filter($event)"
			name="classe" field="name" [size]="30" placeholder="{{CLASSE}}"
			[minLength]="1" #classe="ngModel" required></p-autoComplete>
		<div [hidden]="classe.valid || classe.pristine"
			class="alert alert-danger" i18n="@@classRequired">Classe
			Requise</div>
	</div>
	<div class="ui-grid-col-1"></div>
</div>

<br />
<div class="ui-grid-row">
	<div class="ui-grid-col-2">
		<label i18n="@@semester" for="term">Semestre</label>
	</div>
	<div class="ui-grid-col-9">
		<p-autoComplete [(ngModel)]="selectedTermGroup"
			(onDropdownClick)="termGroupDropdown.handleDropdownClick($event)"
			[suggestions]="termGroupDropdown.filteredTermGroups"
			[dropdown]="true" id="term"
			(completeMethod)="termGroupDropdown.filter($event)" name="term"
			field="name" [size]="30" placeholder="{{SEMESTER}}" [minLength]="1"
			#term="ngModel" required></p-autoComplete>
		<div [hidden]="term.valid || term.pristine" class="alert alert-danger"
			i18n="@@semesterRequired">Semestre Requise</div>
	</div>
	<div class="ui-grid-col-1"></div>
</div>
<br />
<div class="ui-grid-row">
	<div class="ui-grid-col-2"></div>
	<div class="ui-grid-col-4">
		<button type="button" pButton icon="fa fa-calculator"
			(click)="calculate()" label="{{calc}}"></button>
	</div>

	<div class="ui-grid-col-4">
		<button type="button" pButton icon="fa fa-calculator"
			[disabled]="disabled" (click)="getResults()" label="{{results}}"></button>
	</div>

	<div class="ui-grid-col-4">
		<button type="button" pButton icon="fa fa-mail" [disabled]="disabled"
			(click)="emailResults()" label="{{mailing}}"></button>
	</div>
</div>

<br />
<div>
	<p-dataGrid [value]="termResult.resultSummaries"> <ng-template
		let-resultSummary pTemplate="item">
	<div style="padding: 3px" class="ui-g-12 ui-md-3">
		<p-panel [header]="" [style]="{'text-align':'center'}"> <p-header>
		{{resultSummary.studentFirstName}} {{resultSummary.studentMiddleName}}
		{{resultSummary.studentLastName}} </p-header>
		<div class="car-detail">
			<span i18n="@@rank">Rang:</span> {{resultSummary.rankNbr}}
		</div>
		<div class="car-detail">
			<span i18n="@@mark">Note:</span> {{resultSummary.mark| number :
			'1.2-2' }} - {{resultSummary.gradeName}}
		</div>
		<div class="car-detail">
			<span i18n="@@decision">Decision:</span> {{resultSummary.decision}}
		</div>
		<hr class="ui-widget-content" style="border-top: 0">
		<i class="fa fa-search" (click)="getChildSummaries(resultSummary)"
			style="cursor: pointer"></i> </p-panel>
	</div>
	</ng-template> </p-dataGrid>
</div>
<br />

<p-dialog
	header="{{QUATERLY_RESULTS}} -  {{resultSummary.studentFirstName}}  {{resultSummary.studentLastName}}"
	[(visible)]="displayDialog" [responsive]="true" showEffect="fade"
	[modal]="true" width="500"> <p-dataGrid
	[value]="selectedResultSummary.childSummaries"> <ng-template
	let-childSummary pTemplate="item"> <p-panel [header]=""
	[style]="{'text-align':'center'}"> <p-header>
{{childSummary.term}} </p-header>
<div class="car-detail">
	<span i18n="@@rank">Rang:</span> {{childSummary.rankNbr}}
</div>
<div class="car-detail">
	<span i18n="@@mark">Note:</span> {{childSummary.mark| number : '1.2-2'
	}} - {{childSummary.gradeName}}
</div>
<div class="car-detail">
	<span i18n="@@decision">Decision:</span> {{childSummary.decision}}
</div>
</p-panel> </ng-template> </p-dataGrid> <footer>
	<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
		<button type="button" pButton icon="fa fa-close" (click)="close()"
			label="{{CLOSE_LABEL}}"></button>
	</div>
</footer> </p-dialog>


<div *ngIf="error" class="alert alert-danger">{{error}}</div>
<div *ngIf="msg" class="alert alert-success">{{msg}}</div>